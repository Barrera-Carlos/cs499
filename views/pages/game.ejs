<!DOCTYPE html>
<html>
<head>
    <% include ../partials/header.ejs %>
</head>

<body onload = "roomSelect()">
<p id="room name" hidden><%= roomId %></p>
<p id="playerNum"></p>

<script src="/socket.io/socket.io.js"></script>
<script src="https://code.jquery.com/jquery-1.11.1.js"></script>
<script>
    const socket = io();

    function roomSelect(){
        var roomNumber = document.getElementById("room name");
        let roomNumString = String(roomNumber.textContent);
        socket.emit('join', roomNumString);

        socket.on('join', function (msg) {
            let playerNumberTag = document.getElementById("playerNum");
            let msgStringNode = document.createTextNode(String(msg));

            playerNumberTag.appendChild(msgStringNode);
        });
    }

</script>
</body>
</html>